<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Funciones de la Página</title>
    <style>
      

      .buttons {
        display: flex;
        justify-content: center;
        gap: 10px;
        margin-bottom: 10px;
        
      }

      button {
        padding: 10px 20px;
        border: none;
        border-radius: 8px;
        cursor: pointer;
        font-size: 16px;
        transition: background 0.3s ease;
        font-size: 13px;
      }

      button.share {
        background-color: #ff562200;
        border: 1px solid white;
        color: white;
      }

      button.share:hover {
        background-color: brown;
      }

      button.qr {
        background-color: #ff562200;
        border: 1px solid white;
        color: white;
      }

      button.qr:hover {
        background-color: #0056b3;
      }

      button.print {
        background-color: #ff562200;
        border: 1px solid white;
        color: white;
      }

      button.print:hover {
        background-color: #e64a19;
      }

      .qr-container {
        display: none;
        text-align: center;
        margin-top: 20px;
      }

      .qr-container img {
        width: 200px;
        height: 200px;
      }

      .qr-container button {
        background-color: #ff5722;
        margin-top: 10px;
      }
    </style>
  </head>
  <body>
    <div class="buttons">
      <button class="share" id="shareBtn"><i class="fa-regular fa-share-from-square"></i> Compartir</button>
      <button class="qr" id="qrBtn"><i class="fa-solid fa-qrcode"></i> Codigo QR</button>
      <button class="print" id="printBtn" onclick="window.print()"><i class="fa-solid fa-print"></i> Imprimir</button>
    </div>

    <div class="qr-container" id="qr-container">
      <img id="qr-code" alt="QR Code" />
      <button id="closeQR">Cerrar QR</button>
    </div>

    <!-- Coloca el script al final del archivo para asegurarse de que el DOM esté completamente cargado -->
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        // Función para compartir la página
        document.getElementById("shareBtn").addEventListener("click", function () {
          sharePage();
        });

        // Función para generar el QR
        document.getElementById("qrBtn").addEventListener("click", function () {
          generateQR();
        });

        // Función para cerrar el QR
        document.getElementById("closeQR").addEventListener("click", function () {
          hideQR();
        });
      });

      // Función para compartir la página
      async function sharePage() {
        if (navigator.share) {
          try {
            await navigator.share({
              title: document.title,
              url: window.location.href,
            });
           
          } catch (error) {
            alert("Error al compartir la página: " + error.message);
          }
        } else {
          alert("La funcionalidad de compartir no está soportada en este navegador.");
        }
      }

      // Función para generar el QR
      function generateQR() {
        const qrContainer = document.getElementById("qr-container");
        const qrCode = document.getElementById("qr-code");

        const url = window.location.href;

        // Asignamos el atributo src al QR
        qrCode.setAttribute(
          "src",
          `https://chart.googleapis.com/chart?chs=200x200&cht=qr&chl=${encodeURIComponent(
            url
          )}&choe=UTF-8`
        );
        qrContainer.style.display = "block";
      }

      // Función para ocultar el QR
      function hideQR() {
        const qrContainer = document.getElementById("qr-container");
        qrContainer.style.display = "none";
      }
    </script>
  </body>
</html>
